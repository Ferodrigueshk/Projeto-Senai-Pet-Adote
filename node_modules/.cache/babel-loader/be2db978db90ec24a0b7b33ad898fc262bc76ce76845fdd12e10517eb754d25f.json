{"ast":null,"code":"var _s = $RefreshSig$();\n// ...existing code...\nimport { useEffect, useState } from \"react\";\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../firebase/config\";\nexport const useFetchDocuments = docCollection => {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n    setDocuments([]);\n    const colRef = collection(db, docCollection);\n    const unsub = onSnapshot(colRef, snapshot => {\n      const results = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      console.log(\"[useFetchDocuments] snapshot:\", docCollection, results);\n      setDocuments(results);\n      setLoading(false);\n    }, err => {\n      console.error(\"[useFetchDocuments] error:\", err);\n      setError(err.message || \"Erro ao buscar documentos\");\n      setLoading(false);\n    });\n    return () => unsub();\n  }, [docCollection]);\n  return {\n    documents,\n    loading,\n    error\n  };\n};\n// ...existing code...\n_s(useFetchDocuments, \"vPpX9y5GrjLlQ9TCkQ56wUrwt2s=\");","map":{"version":3,"names":["useEffect","useState","collection","onSnapshot","db","useFetchDocuments","docCollection","_s","documents","setDocuments","loading","setLoading","error","setError","colRef","unsub","snapshot","results","docs","map","doc","id","data","console","log","err","message"],"sources":["/home/rafa/Projeto-Senai-Pet-Adote/src/hooks/useFetchDocuments.js"],"sourcesContent":["// ...existing code...\nimport { useEffect, useState } from \"react\";\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../firebase/config\";\n\nexport const useFetchDocuments = (docCollection) => {\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n    setDocuments([]);\n\n    const colRef = collection(db, docCollection);\n\n    const unsub = onSnapshot(\n      colRef,\n      (snapshot) => {\n        const results = snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n        console.log(\"[useFetchDocuments] snapshot:\", docCollection, results);\n        setDocuments(results);\n        setLoading(false);\n      },\n      (err) => {\n        console.error(\"[useFetchDocuments] error:\", err);\n        setError(err.message || \"Erro ao buscar documentos\");\n        setLoading(false);\n      }\n    );\n\n    return () => unsub();\n  }, [docCollection]);\n\n  return { documents, loading, error };\n};\n// ...existing code..."],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,UAAU,EAAEC,UAAU,QAAQ,oBAAoB;AAC3D,SAASC,EAAE,QAAQ,oBAAoB;AAEvC,OAAO,MAAMC,iBAAiB,GAAIC,aAAa,IAAK;EAAAC,EAAA;EAClD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACdW,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACdJ,YAAY,CAAC,EAAE,CAAC;IAEhB,MAAMK,MAAM,GAAGZ,UAAU,CAACE,EAAE,EAAEE,aAAa,CAAC;IAE5C,MAAMS,KAAK,GAAGZ,UAAU,CACtBW,MAAM,EACLE,QAAQ,IAAK;MACZ,MAAMC,OAAO,GAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,GAAG,KAAM;QAAEC,EAAE,EAAED,GAAG,CAACC,EAAE;QAAE,GAAGD,GAAG,CAACE,IAAI,CAAC;MAAE,CAAC,CAAC,CAAC;MAC3EC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAElB,aAAa,EAAEW,OAAO,CAAC;MACpER,YAAY,CAACQ,OAAO,CAAC;MACrBN,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,EACAc,GAAG,IAAK;MACPF,OAAO,CAACX,KAAK,CAAC,4BAA4B,EAAEa,GAAG,CAAC;MAChDZ,QAAQ,CAACY,GAAG,CAACC,OAAO,IAAI,2BAA2B,CAAC;MACpDf,UAAU,CAAC,KAAK,CAAC;IACnB,CACF,CAAC;IAED,OAAO,MAAMI,KAAK,CAAC,CAAC;EACtB,CAAC,EAAE,CAACT,aAAa,CAAC,CAAC;EAEnB,OAAO;IAAEE,SAAS;IAAEE,OAAO;IAAEE;EAAM,CAAC;AACtC,CAAC;AACD;AAAAL,EAAA,CAhCaF,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}